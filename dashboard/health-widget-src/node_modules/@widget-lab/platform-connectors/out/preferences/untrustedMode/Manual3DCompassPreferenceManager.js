function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

import { isWidget, widget } from "@widget-lab/3ddashboard-utils";
import { MANUAL_3DCOMPASS_INPUT_PREFERENCE_NAME, MANUAL_3DCOMPASS_INPUT_PREFERENCE_LABEL } from "../../utils/constants";
export default class Manual3DCompassPreferenceManager {
  constructor(compassURL) {
    _defineProperty(this, "readValue", () => {
      return widget.getValue(MANUAL_3DCOMPASS_INPUT_PREFERENCE_NAME);
    });

    const preference = {
      name: MANUAL_3DCOMPASS_INPUT_PREFERENCE_NAME,
      label: MANUAL_3DCOMPASS_INPUT_PREFERENCE_LABEL,
      type: "text",
      defaultValue: compassURL,
      onchange: "on3DCompassURLUpdate"
    };

    if (!widget.getPreference(MANUAL_3DCOMPASS_INPUT_PREFERENCE_NAME)) {
      widget.addPreference(preference);
    }

    if (compassURL && !isWidget()) widget.setValue(MANUAL_3DCOMPASS_INPUT_PREFERENCE_NAME, compassURL);
  }

}