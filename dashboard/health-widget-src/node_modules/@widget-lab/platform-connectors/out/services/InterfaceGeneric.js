function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

import { authenticatedRequest } from "../utils/Http";
export default class InterfaceGeneric {
  constructor(strategy) {
    _defineProperty(this, "performCall", async (serviceName, webServicePath, {
      method,
      data,
      headers = {},
      type,
      timeout,
      onTimeout,
      onProgress,
      returnHeader = false
    }) => {
      const serviceUrl = await this.strategy.getCurrentTenantServiceUrl(serviceName);

      if (serviceUrl) {
        const fullUrl = serviceUrl + webServicePath;
        return authenticatedRequest(fullUrl, {
          method,
          headers,
          data,
          type,
          timeout,
          onTimeout,
          onProgress,
          returnHeader
        }).catch(err => {
          throw err;
        });
      }

      throw new Error(serviceName + ": Service name not found in current tenant services urls list, to get the list of available services inside the current tenant please use the method \"getCurrentTenantServices\" of the connector");
    });

    _defineProperty(this, "call3DWebServices", (serviceName, webServicePath, options = {}) => {
      return this.performCall(serviceName, webServicePath, options).catch(err => {
        throw err;
      });
    });

    this.strategy = strategy;
  }

}