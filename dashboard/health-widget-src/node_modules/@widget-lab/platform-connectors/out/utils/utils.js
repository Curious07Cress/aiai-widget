import { widget } from "@widget-lab/3ddashboard-utils";

const findCompassUrl = () => {
  let widgetDomain = widget.widgetDomain;
  if (!widgetDomain) return ""; // check if ifwe is present in the url

  const regex = new RegExp("ifwe");

  if (regex.test(widgetDomain)) {
    let compassURL = new URL(widgetDomain.replace(regex, "compass")).origin + "/enovia"; // replace ifwe by compass and add /enovia at the end

    return compassURL;
  }

  return "";
};

export { findCompassUrl };